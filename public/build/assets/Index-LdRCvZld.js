import{u as A,g as n,a as o,b as s,h as M,w as y,d as t,o as l,f as i,t as d,i as g,F as v,k as L,e as S,m as $,v as N,q as w}from"./app-DuJC3B9U.js";import{X as _,a as m,_ as O}from"./AuthenticatedLayout-D39m1hik.js";import{A as k}from"./activity-evxlE-82.js";import{c as C}from"./shirt-D7gUWbhL.js";import{P as V}from"./package-BYtJR-8g.js";import{C as z}from"./chevron-right-9Et6ie3W.js";/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=C("circle-arrow-right",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=C("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),T={class:"flex flex-col md:flex-row md:items-center justify-between gap-6"},B={class:"flex items-center gap-4 bg-white/50 backdrop-blur-md p-2 rounded-2xl border border-white shadow-sm"},D={class:"w-12 h-12 bg-amber-500 rounded-xl flex items-center justify-center text-white shadow-lg shadow-amber-100"},E={class:"pb-12 px-4 sm:px-6 lg:px-8"},q={class:"mx-auto max-w-7xl"},G={key:0,class:"mb-6 bg-rose-50 border border-rose-100 p-4 rounded-2xl text-rose-600 text-sm font-bold flex items-center gap-3"},U={key:1,class:"mb-6 bg-emerald-50 border border-emerald-100 p-4 rounded-2xl text-emerald-600 text-sm font-bold flex items-center gap-3"},X={class:"mb-8 bg-indigo-900 rounded-3xl p-6 text-white flex items-center gap-6 shadow-2xl relative overflow-hidden"},Y={class:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center shrink-0 border border-white/10"},H={class:"bg-white overflow-hidden shadow-2xl rounded-[2.5rem] border border-gray-100"},J={class:"p-8 border-b border-gray-50 flex justify-between items-center"},K={class:"text-[10px] font-black text-indigo-400 bg-indigo-50 px-3 py-1 rounded-full uppercase tracking-tighter"},Q={class:"p-0 overflow-x-auto"},W={class:"min-w-full divide-y divide-gray-50"},Z={class:"bg-white divide-y divide-gray-50"},tt={class:"px-8 py-6"},et={class:"text-sm font-black text-indigo-900 font-mono tracking-tighter uppercase"},st={class:"px-8 py-6"},ot={class:"flex items-center gap-2 text-xs font-bold text-gray-500 bg-gray-50 w-max px-3 py-1 rounded-lg border border-gray-100"},at={class:"px-8 py-6"},it={class:"text-xl font-black text-gray-900"},rt={class:"px-8 py-6"},dt={class:"flex items-center gap-3"},nt={class:"px-8 py-6 text-right"},lt=["onClick"],ct={key:0},pt={colspan:"5",class:"px-8 py-24 text-center"},xt={class:"flex flex-col items-center gap-3"},gt={class:"w-20 h-20 bg-gray-50 rounded-[2rem] flex items-center justify-center text-gray-200"},ut={key:0,class:"fixed inset-0 z-[60] overflow-y-auto flex items-center justify-center p-4"},mt={class:"bg-white rounded-[2.5rem] overflow-hidden shadow-2xl transform transition-all max-w-lg w-full p-10 relative z-10 border border-indigo-50"},bt={class:"absolute top-0 right-0 p-8"},ft={class:"text-center mb-10"},ht={class:"w-20 h-20 bg-amber-50 rounded-3xl flex items-center justify-center mx-auto mb-6 border border-amber-100 relative group"},yt={class:"text-gray-400 font-medium italic mt-2"},vt={class:"font-black text-indigo-600 uppercase"},wt={class:"bg-gray-50 p-8 rounded-[2.5rem] border border-gray-100 focus-within:border-indigo-200 transition-all text-center"},_t={class:"flex items-center justify-center gap-4"},kt={class:"text-xl font-bold text-gray-300 mt-4"},Ct={class:"text-[10px] text-gray-400 mt-6 font-bold uppercase tracking-widest italic flex items-center justify-center gap-2"},jt=["disabled"],Nt={__name:"Index",props:{lotes:Array,estacion:Object},setup(x){var b;const j=x,p=w(!1),u=w(null),c=A({lote_id:"",estacion_destino_id:(b=j.estacion)==null?void 0:b.id,cantidad_entrada:0,usuario_id:1}),I=r=>{u.value=r,c.lote_id=r.id,c.cantidad_entrada=r.cantidad_actual,p.value=!0},R=()=>{c.post(route("corte.move"),{onSuccess:()=>{p.value=!1}})};return(r,e)=>(l(),n(v,null,[o(s(M),{title:"Módulo de Corte"}),o(O,null,{header:y(()=>[t("div",T,[e[3]||(e[3]=t("div",null,[t("h2",{class:"text-4xl font-black text-gray-900 tracking-tight mb-2"},"Estación de Corte"),t("p",{class:"text-gray-400 font-medium italic"},"Gestión de piezas y preparación para costura")],-1)),t("div",B,[t("div",D,[o(s(m),{class:"w-6 h-6"})])])])]),default:y(()=>{var f,h;return[t("div",E,[t("div",q,[(f=r.$page.props.errors)!=null&&f.error?(l(),n("div",G,[o(s(_),{class:"w-4 h-4"}),i(" "+d(r.$page.props.errors.error),1)])):g("",!0),(h=r.$page.props.flash)!=null&&h.success?(l(),n("div",U,[o(s(k),{class:"w-4 h-4"}),i(" "+d(r.$page.props.flash.success),1)])):g("",!0),t("div",X,[e[4]||(e[4]=t("div",{class:"absolute top-0 right-0 w-32 h-32 bg-indigo-500 rounded-full blur-[60px] opacity-30"},null,-1)),t("div",Y,[o(s(P),{class:"w-6 h-6 text-indigo-300"})]),e[5]||(e[5]=t("div",null,[t("div",{class:"text-sm font-black uppercase tracking-widest mb-1 text-indigo-200"},"Recordatorio de Operación"),t("p",{class:"text-indigo-100 font-medium italic text-sm"},[i("Los lotes procesados aquí se trasladarán automáticamente a la cola de "),t("span",{class:"text-white font-black underline decoration-indigo-400 underline-offset-4"},"Costura"),i(".")])],-1))]),t("div",H,[t("div",J,[e[6]||(e[6]=t("div",null,[t("h3",{class:"text-xl font-black text-gray-900 uppercase tracking-tight"},"Cola de Trabajo"),t("p",{class:"text-xs text-gray-400 font-medium italic mt-1"},"Lotes pendientes por fraccionar")],-1)),t("div",K,d(x.lotes.length)+" items en lista ",1)]),t("div",Q,[t("table",W,[e[11]||(e[11]=t("thead",{class:"bg-indigo-50/30"},[t("tr",null,[t("th",{class:"px-8 py-6 text-left text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em]"},"Referencia"),t("th",{class:"px-8 py-6 text-left text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em]"},"Orden Venta"),t("th",{class:"px-8 py-6 text-left text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em]"},"Stock"),t("th",{class:"px-8 py-6 text-left text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em]"},"Progreso"),t("th",{class:"px-8 py-6 text-right"})])],-1)),t("tbody",Z,[(l(!0),n(v,null,L(x.lotes,a=>(l(),n("tr",{key:a.id,class:"group hover:bg-indigo-50/20 transition-all duration-300"},[t("td",tt,[t("div",et,d(a.codigo),1)]),t("td",st,[t("div",ot,[o(s(V),{class:"w-3.5 h-3.5 text-gray-400"}),i(" "+d(a.pedido.codigo),1)])]),t("td",at,[t("div",it,[i(d(a.cantidad_actual),1),e[7]||(e[7]=t("span",{class:"text-[10px] text-gray-400 font-medium ml-1"},"pcs",-1))])]),t("td",rt,[t("div",dt,[e[8]||(e[8]=t("span",{class:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-xl text-[10px] font-black uppercase tracking-widest border border-emerald-100"}," DISPONIBLE ",-1)),o(s(F),{class:"w-4 h-4 text-emerald-200 group-hover:translate-x-1 transition-transform"})])]),t("td",nt,[t("button",{onClick:It=>I(a),class:"bg-indigo-600 hover:bg-indigo-800 text-white px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl shadow-indigo-100 active:scale-95 flex items-center gap-2 ml-auto"},[e[9]||(e[9]=i(" INICIAR CORTE ",-1)),o(s(z),{class:"w-4 h-4"})],8,lt)])]))),128)),x.lotes.length===0?(l(),n("tr",ct,[t("td",pt,[t("div",xt,[t("div",gt,[o(s(m),{class:"w-10 h-10"})]),e[10]||(e[10]=t("div",{class:"text-sm text-gray-400 font-medium italic"},"Sin lotes pendientes por cortar.",-1))])])])):g("",!0)])])])])])]),p.value?(l(),n("div",ut,[t("div",{onClick:e[0]||(e[0]=a=>p.value=!1),class:"fixed inset-0 bg-indigo-900/60 backdrop-blur-md transition-opacity"}),t("div",mt,[t("div",bt,[t("button",{onClick:e[1]||(e[1]=a=>p.value=!1),class:"text-gray-300 hover:text-rose-500 transition-colors"},[o(s(_),{class:"w-7 h-7"})])]),t("div",ft,[t("div",ht,[o(s(m),{class:"w-10 h-10 text-amber-600 group-hover:scale-110 transition-transform"}),e[12]||(e[12]=t("div",{class:"absolute -top-2 -right-2 w-6 h-6 bg-emerald-500 rounded-full border-4 border-white animate-pulse"},null,-1))]),e[14]||(e[14]=t("h3",{class:"text-3xl font-black text-gray-900 tracking-tight"},"Finalizar Corte",-1)),t("p",yt,[e[13]||(e[13]=i("Lote: ",-1)),t("span",vt,d(u.value.codigo),1)])]),t("form",{onSubmit:S(R,["prevent"]),class:"space-y-6"},[t("div",wt,[e[16]||(e[16]=t("label",{class:"block text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-4"},"Ingrese Cantidad Producida",-1)),t("div",_t,[$(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s(c).cantidad_entrada=a),type:"number",class:"w-32 bg-transparent border-b-2 border-indigo-100 p-0 text-5xl font-black text-indigo-900 text-center focus:ring-0 focus:border-indigo-600 transition-all",required:""},null,512),[[N,s(c).cantidad_entrada]]),t("span",kt,"/ "+d(u.value.cantidad_actual),1)]),t("p",Ct,[o(s(k),{class:"w-3.5 h-3.5"}),e[15]||(e[15]=i(" Confirmará el traslado a costura ",-1))])]),t("button",{type:"submit",disabled:s(c).processing,class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-6 rounded-[2rem] text-lg font-black transition-all shadow-xl shadow-indigo-100 active:scale-95 disabled:opacity-50 mt-4"}," CONFIRMAR Y TRASLADAR ",8,jt)],32)])])):g("",!0)]}),_:1})],64))}};export{Nt as default};
