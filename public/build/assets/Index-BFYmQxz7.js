import{u as v,g as a,a as m,b as n,h,w as x,d as t,o as i,F as c,k as g,t as d,e as w,m as y,p as k,v as M,i as C,q as b}from"./app-DuJC3B9U.js";import{_ as L}from"./AuthenticatedLayout-D39m1hik.js";import"./shirt-D7gUWbhL.js";const A={class:"py-12 bg-gray-50 min-h-screen"},S={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},V={class:"bg-white overflow-hidden shadow-xl sm:rounded-2xl"},q={class:"min-w-full divide-y divide-gray-200"},E={class:"bg-white divide-y divide-gray-200"},F={class:"px-6 py-4 whitespace-nowrap font-mono font-bold text-indigo-700"},I={class:"px-6 py-4 whitespace-nowrap text-gray-600"},N={class:"px-6 py-4 whitespace-nowrap font-semibold text-gray-800"},$={class:"px-6 py-4 whitespace-nowrap"},z={key:0,class:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs font-bold uppercase tracking-wide border border-indigo-200"},B={key:1,class:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-bold uppercase tracking-wide border border-gray-200"},D={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},P=["onClick"],R={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},T={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},j={class:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full p-8"},O={class:"text-2xl font-bold text-gray-900 mb-6"},U=["value"],G={class:"mt-8 flex justify-end space-x-3"},H=["disabled"],X={__name:"Index",props:{lotes:Array,estaciones:Array},setup(u){const l=b(!1),p=b(null),o=v({lote_id:"",estacion_destino_id:"",cantidad_entrada:0,usuario_id:null,maquina_id:null}),f=r=>{p.value=r,o.lote_id=r.id,o.cantidad_entrada=r.cantidad_actual,o.usuario_id=1,l.value=!0},_=()=>{o.post(route("lotes.move"),{onSuccess:()=>{l.value=!1,o.reset()}})};return(r,e)=>(i(),a(c,null,[m(n(h),{title:"Trazabilidad de Lotes"}),m(L,null,{header:x(()=>[...e[4]||(e[4]=[t("h2",{class:"text-2xl font-bold text-gray-800"},"Trazabilidad de Lotes",-1)])]),default:x(()=>[t("div",A,[t("div",S,[t("div",V,[t("table",q,[e[5]||(e[5]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lote"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pedido"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cantidad Actual"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"EstaciÃ³n"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Acciones")])],-1)),t("tbody",E,[(i(!0),a(c,null,g(u.lotes,s=>(i(),a("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",F,d(s.codigo),1),t("td",I,d(s.pedido.codigo),1),t("td",N,d(s.cantidad_actual)+" u.",1),t("td",$,[s.estacion_actual?(i(),a("span",z,d(s.estacion_actual.nombre),1)):(i(),a("span",B," POR INICIAR "))]),t("td",D,[t("button",{onClick:J=>f(s),class:"bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white px-3 py-1 rounded-md transition-all font-semibold border border-indigo-100"}," Mover a EstaciÃ³n ",8,P)])]))),128))])])])])]),l.value?(i(),a("div",R,[t("div",T,[t("div",{onClick:e[0]||(e[0]=s=>l.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t("div",j,[t("h3",O,"Mover Lote: "+d(p.value.codigo),1),t("form",{onSubmit:w(_,["prevent"]),class:"space-y-4"},[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"EstaciÃ³n Destino",-1)),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>n(o).estacion_destino_id=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 sm:text-sm",required:""},[e[6]||(e[6]=t("option",{value:"",disabled:""},"Seleccione estaciÃ³n...",-1)),(i(!0),a(c,null,g(u.estaciones,s=>(i(),a("option",{key:s.id,value:s.id},d(s.nombre)+" (Orden: "+d(s.orden)+") ",9,U))),128))],512),[[k,n(o).estacion_destino_id]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Cantidad a Procesar",-1)),y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>n(o).cantidad_entrada=s),type:"number",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[M,n(o).cantidad_entrada]])]),t("div",G,[t("button",{onClick:e[3]||(e[3]=s=>l.value=!1),type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},"Cancelar"),t("button",{type:"submit",disabled:n(o).processing,class:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition-colors"}," Registrar Movimiento ",8,H)])],32)])])])):C("",!0)]),_:1})],64))}};export{X as default};
